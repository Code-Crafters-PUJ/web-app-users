<div class="container">
  <h1>Registro de Inventarios</h1>

  <div class="navegation">
    <div class="InputContainer">
      <input type="text" name="text" class="input" id="input" placeholder="Search">
      <label for="input" class="labelforsearch">
        <svg viewBox="0 0 512 512" class="searchIcon">
          <path
            d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"></path>
        </svg>
      </label>
    </div>
    <div class="buttonContainer">
      <button class="btn btn-primary" (click)="enableProductRegistrer()">Registrar artículo</button>
      <button class="btn btn-primary-border" (click)="enablebuy()">Comprar artículo</button>
    </div>
  </div>
  <div *ngFor="let branch of branches">
    <h5>{{ branch.name }}</h5>
    <div class="d-flex justify-content-start align-items-center mt-3">
      <button
        class="btn btn-light mx-1"
        (click)="changePage(branch.name, -1)"
        [disabled]="pagination[branch.name].currentPage === 1"
      >
        <i class="fas fa-chevron-left"></i>
      </button>
      <div>Página {{ pagination[branch.name].currentPage }} de {{pagination[branch.name].totalPages}}</div>
      <button
        class="btn btn-light mx-1"
        (click)="changePage(branch.name, 1)"
        [disabled]="pagination[branch.name].currentPage >= Math.ceil(pagination[branch.name].totalItems / pagination[branch.name].pageSize)"
      >
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    <table class="table table-custom-primary">
      <thead>
      <tr>
        <th scope="col">Código</th>
        <th scope="col">Nombre Artículo</th>
        <th scope="col">Categoría</th>
        <th scope="col">Precio de venta</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let product of branch.products ">
        <td>{{ product.product.id }}</td>
        <td class="clickable" (click)="productDetails(product.product.id)">{{ product.product.name }}</td>
        <td>{{ product.product.category }}</td>
        <td>{{ product.product.sellPrice }} COP</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="showProductRegister">
    <app-create-product (productDisabled)="haandleProductDisabled($event)"></app-create-product>
  </div>
</div>
