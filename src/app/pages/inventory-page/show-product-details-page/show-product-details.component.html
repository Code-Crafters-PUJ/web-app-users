  <app-sidebar></app-sidebar>
  <div class="container mt-3 mb-3 cont-style">
    <div class="header-container">
      <h1>Registro Inventarios</h1>
      <h5>/Artículo</h5>
    </div>
    <h5>Artículo {{ product.name }}</h5>

    <div>
      <h6>Información General</h6>
      <div class="container edit-info">
        <div class="row">
          <div class="form-group col-md-3 mb-3">
            <label for="id">Id Artículo</label>
            <input type="text" class="form-control" id="id" placeholder="Id Artículo" [(ngModel)]="product.id">
          </div>
          <div class="form-group col-md-3 mb-3">
            <label for="name">Nombre</label>
            <input type="text" class="form-control" id="name" placeholder="Nombre" [(ngModel)]="product.name">
          </div>
        </div>
        <div class="row">
          <div class="form-group col-md-3 mb-3">
            <label for="category">Categoría</label>
            <input type="text" class="form-control" id="category" placeholder="Categoria" [(ngModel)]="product.category">
          </div>
          <div class="form-group col-md-3 mb-3">
            <label for="description">Descripción</label>
            <input type="text" class="form-control" id="description" placeholder="Descripción" [(ngModel)]="product.description">
          </div>
        </div>
        <div class="row">
          <div class="form-group col-md-3 mb-3">
            <label for="sellPrice">Precio de venta</label>
            <input type="text" class="form-control" id="sellPrice" placeholder="Precio de venta" [(ngModel)]="product.sellPrice">
          </div>
        </div>
      </div>
    </div>
    <div>
      <h6>Información de Stock</h6>
      <div class="container edit-info">
        <div *ngFor="let branchProduct of branchesProducts; let i = index" class="row mb-3">
          <div class="form-group col-md-1">
            <label for="enable-{{i}}">Activar</label>
            <div class="form-control form-check form-switch d-flex justify-content-center align-items-center border-0">
              <input
                class="form-check-input"
                type="checkbox"
                role="switch"
                id="enable-{{i}}"
                [(ngModel)]="branchProduct.enabled"
                (change)="handleBranchToggle(branchProduct, i)"
              />
            </div>
          </div>


          <div class="form-group col-md-3">
            <label for="branch-{{i}}">Sucursal</label>
            <input type="text" class="form-control" id="branch-{{i}}" [(ngModel)]="branchProduct.branchName" disabled>
          </div>

          <div class="form-group col-md-2">
            <label for="quantity-{{i}}">Cantidad</label>
            <input
              type="number"
              class="form-control"
              id="quantity-{{i}}"
              [(ngModel)]="branchProduct.quantity"
              placeholder="Cantidad"
              [disabled]="!branchProduct.enabled"
              (change)="updateTotalProducts()"
            />
          </div>

          <div class="form-group col-md-2">
            <label for="discount-{{i}}">Descuento</label>
            <input
              type="number"
              class="form-control"
              id="discount-{{i}}"
              [(ngModel)]="branchProduct.discount"
              placeholder="Descuento"
              [disabled]="!branchProduct.enabled"
            />
          </div>
        </div>
      </div>

    </div>
    <h6>Stock Total</h6>
    <p>{{ total }} Unidades</p>

    <button class="btn btn-primary mt-3" (click)="updateProduct(product)">Guardar cambios</button>
    <button class="btn btn-primary-border mt-3 mx-3" (click)="cancelChanges()">Cancelar cambios</button>
    <button class="btn btn-danger-border mt-3" (click)="deleteProduct(product.id)">Eliminar Artículo</button>
  </div>

