<div class="container">
    <div class="header-container">
        <h1>Facturas</h1>
    </div>
    <div class="col-md-4 mb-3">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Buscar:" aria-label="Recipient's username"
                aria-describedby="basic-addon2">
            <span class="input-group-text" id="a">
                <i class="fas fa-search"></i>
            </span>
        </div>
    </div>


    <div class="d-flex justify-content-center">
        <button class="btn btn-primary m-1" (click)="prevBranchPage()" [disabled]="currentBranchPageIndex === 0">
            Anterior
        </button>
        <button class="btn btn-primary m-1" (click)="nextBranchPage()" [disabled]="currentBranchPageIndex === paginatedBranches.length - 1">
            Siguiente
        </button>
    </div>
    <!-- Paginación para sucursales -->
    <div *ngFor="let sucursal of paginatedBranches[currentBranchPageIndex]; let i = index">
        <div class="table-responsive">
            <div class="row col-md-12">
                <div class="col-md-1">
                    <h3>{{ sucursal.name}}</h3>
                </div>
                <div class="col-md-11 d-flex justify-content-end mb-2">
                    <button class="btn btn-primary-border">Crear Factura</button>
                </div>
            </div>

            <table class="table table-custom-primary">
                <thead>
                    <tr>
                        <th scope="col">No Factura</th>
                        <th scope="col">Fecha de Emisión</th>
                        <th scope="col">Cédula del Cliente</th>
                        <th scope="col">No. de Productos</th>
                        <th scope="col">Tipo de Factura</th>
                        <th scope="col">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let bill of paginatedBills[i][0]">
                        <td>{{ bill.billNumber }}</td>
                        <td>{{ bill.date }}</td>
                        <td>{{ bill.clientID }}</td>
                        <td>{{ bill.billhasproduct.length }}</td>
                        <td>{{ bill.type }}</td>
                        <td>{{ bill.total }}</td>
                    </tr>
                </tbody>
            </table>

            <!-- Paginación para facturas de esta sucursal -->
            <div class="d-flex justify-content-start align-items-center mt-3">
                <button class="btn mx-1" (click)="prevBillPage(i)">
                    <i class="fas fa-chevron-left icon-color"></i>
                </button>
                <div>Página {{ currentBillPageIndex[i] + 1 }}</div>
                <button class="btn mx-1" (click)="nextBillPage(i)">
                    <i class="fas fa-chevron-right icon-color"></i>
                </button>
            </div>
        </div>
    </div>
</div>